<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport"
	      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<style>
		body {
			padding: 0;
			margin: 0;
			outline: 0;
		}

		.container {
			position: relative;
			height: 300px;
		}

		img {
			height: 100%;
		}

		.sub {
			height: 100%;
			width: 100vw;
			white-space: nowrap;
			overflow-x: scroll;
			overflow-y: hidden;
		}

		.animating {
			position: absolute;
		}
	</style>
</head>
<body>

<div class="container">
	<div class="sub animating">
		<img src="http://bjcache.house.sina.com.cn/gongzhang/image/20151208/20151208141943_44148.jpg" alt="">
		<img src="http://www.decorreport.com/images/zh/2033.jpg" alt="">
		<img
			src="http://img11.soufunimg.com/zxb/2017_08/16/M07/0D/95/ChCE4FmUB6WIGA89AAUDkTnTLAAAAq1rgEDGJsABQOp978.jpg"
			alt="">
		<img src="http://bjcache.house.sina.com.cn/gongzhang/image/20151208/20151208141943_44148.jpg" alt="">
		<img src="http://www.decorreport.com/images/zh/2033.jpg" alt="">
		<img
			src="http://img11.soufunimg.com/zxb/2017_08/16/M07/0D/95/ChCE4FmUB6WIGA89AAUDkTnTLAAAAq1rgEDGJsABQOp978.jpg"
			alt="">
		<img src="http://bjcache.house.sina.com.cn/gongzhang/image/20151208/20151208141943_44148.jpg" alt="">
		<img src="http://www.decorreport.com/images/zh/2033.jpg" alt="">
		<img
			src="http://img11.soufunimg.com/zxb/2017_08/16/M07/0D/95/ChCE4FmUB6WIGA89AAUDkTnTLAAAAq1rgEDGJsABQOp978.jpg"
			alt="">
	</div>
</div>

<button class="prev switch"><</button>
<button class="next switch">></button>

<script src="http://unpkg.com/jquery"></script>
<script>
	function getSlickTrackWidth() {
		return [...$('img').map((idx, el) => $(el).width())].reduce((prev, next) => prev + next, 0);
	}
	const DIRECTION = {
		PREV: 1,
		NEXT: 2
	}
	function slickSwitch(direction) {
		let trackWidth = getSlickTrackWidth();
		let currentLeft = parseInt($('.sub').scrollLeft());
		console.log(currentLeft)
		if (isNaN(currentLeft)) {
			currentLeft = 0
		}
		let windowWidth = $(window).width();
		let allowance = direction === DIRECTION.NEXT
				? trackWidth - windowWidth - currentLeft
				: currentLeft

		console.log('trackWidth = ' + trackWidth)
		console.log('windowWidth = ' + windowWidth)
		console.log('allowance = ' + allowance)

		let increment = allowance > windowWidth ? windowWidth : allowance;
		if (direction === DIRECTION.PREV) {
			increment = -increment
		}

		console.log('increment = ' + increment)
		console.log('final = ' + (currentLeft + increment))

		$('.sub').animate({ scrollLeft: currentLeft + increment }, 500);
	}

	$('.sub').on('touchmove', (event) => {
		event.preventDefault()
	})
	$('.prev').click(() => slickSwitch(DIRECTION.PREV))
	$('.next').click(() => slickSwitch(DIRECTION.NEXT))

	console.log($('.switch').find('.prev'))
</script>
</body>
</html>