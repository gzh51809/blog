<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport"
	      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>
<body>


<script src="//cdn.bootcss.com/babel-core/5.8.38/browser.js"></script>
<script>

	let tasks = [];

	let output = (i) => new Promise((resolve) => {
		setTimeout(() => {
			console.log(i)
			resolve()
		}, i * 1000)
	})

	for (var i = 0; i < 5; i++) {
		tasks.push(output(i))
	}

	Promise.all(tasks).then(() => {
		setTimeout(() => {
			console.log(i)
		}, 1000)
	})


</script>

</body>
</html>